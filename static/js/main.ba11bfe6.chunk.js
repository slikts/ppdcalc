(window.webpackJsonpppdcalc=window.webpackJsonpppdcalc||[]).push([[0],{30:function(e,a,t){e.exports={Scene:"Scene_Scene__2Jo2n",container:"Scene_container__igEhO",subcontainer:"Scene_subcontainer__3mBWq",ground:"Scene_ground__2OY49"}},40:function(e,a,t){e.exports={App:"App_App__15LM-",main:"App_main__uN9ca"}},41:function(e,a,t){e.exports={Ruler:"Ruler_Ruler__2j-pf",segment:"Ruler_segment__Tuf2S"}},47:function(e,a,t){e.exports={Screen:"Screen_Screen__1_9xZ"}},49:function(e,a,t){e.exports={DataTable:"DataTable_DataTable__3VVmB"}},51:function(e,a,t){},61:function(e,a,t){e.exports=t(72)},66:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),i=(t(66),t(12)),o=t(126),u=t(129),s=t(52),m=t(40),v=t.n(m),p=t(30),d=t.n(p),h=t(47),f=t.n(h),E=t(31),g=function(e,a){return e*Math.sin(C(a/2))/Math.sin(C(a/2)+C(90))},b=["depth","diagonal","elevation","viewpoint","fov"],w=function(e){var a=e.fov.value,t=e.depth,n=Object(i.a)(t.range,2)[1],r=t.value,l=e.scene.vars,c=e.diagonal.value,o=g(n,a);e.maxAbsSize=o;var u=g(r,a);e.absSize=u;var s=x(c),m=e.screen.resolution,v=m.x,p=m.y,d=Math.round(s*v/Math.sqrt(Math.pow(v,2)+Math.pow(p,2))),h=O(d);e.screen.size.x=d;var f=Math.round(d/(v/p)),E=O(f);e.screen.size.y=f;var b=100/o;e.ratio=b;var w=function(e){return M(e*b)};e.screen.vars.width=w(e.screen.size.x),e.screen.vars.height=w(e.screen.size.y);var N=e.elevation.value;e.screen.vars.elevation=M(N*b);var S=l.aspectRatio,_=o/u;l.ratio=b,l.zoom=_,l.containerWidth=M(100*_),l.containerHeight=M(100*_*S),l.tileSize=M(100/(o/100));var y=e.viewpoint.value;l.viewpointOffset=M(y*b);var C,D,z=e.rowData,R=(C=N+f/2-y,D=r,Math.atan(C/D)*(180/Math.PI));z.degree.value=j(Math.round(R));var k=Math.round(Math.hypot(v,p)/c);z.ppi.value=k,console.log({width:h,screenHeightIn:E,diagonal:c,depth:O(r)});var P=v/2/(180/Math.PI*Math.atan(c/Math.sqrt(Math.pow(v,2)+Math.pow(p,2))*(v/2)/O(r)));z.ppd.value=Math.round(10*P)/10},N=function(e,a,t){return Math.min(Math.max(e,a),t)},x=function(e){return 2.54*e},O=function(e){return e/2.54},S=function(e,a){return Object.fromEntries(Object.entries(e).map(a))},_=function(e){return S(e,(function(e){var a=Object(i.a)(e,2),t=a[0],n=a[1];return["--".concat(t),n]}))},j=function(e){return"".concat(e,"\xb0")},M=function(e){return"".concat(e,"%")},y=function(e){return b.map((function(a){return[a,e[a].value]})).map((function(e){return e.join(":")})).join(",")},C=function(e){return e*(Math.PI/180)},D=r.a.memo((function(e){var a=e.vars;return r.a.createElement("div",{className:f.a.Screen,style:_(a)})})),z=t(48),R=t.n(z),k=Object(n.createContext)(),P=Object(n.createContext)(),A=function(e){var a=e.methods,t=e.initialState,n=e.children,l=R()(a,t),c=Object(i.a)(l,2),o=c[0],u=c[1];return r.a.createElement(k.Provider,{value:o},r.a.createElement(P.Provider,{value:u},n))},I=function(){return Object(n.useContext)(k)},V=function(){return Object(n.useContext)(P)},H=t(41),F=t.n(H),B=r.a.memo((function(e){var a=e.segments,t=Array.from({length:a},(function(e,t){return r.a.createElement("div",{className:F.a.segment,key:t,"data-n":"".concat(Math.ceil((a-t-1)/10),"m")})}));return r.a.createElement("div",{className:F.a.Ruler,style:_({segments:a})},t)})),T=t(114),Y=t(115),q=t(117),J=t(116),W=t(111),X=t(49),K=t.n(X),U=r.a.memo((function(e){var a=e.data;return r.a.createElement("div",{className:K.a.DataTable},r.a.createElement(W.a,null,r.a.createElement(T.a,null,r.a.createElement(Y.a,null,Object.values(a).map((function(e){return r.a.createElement(J.a,{key:e.name},r.a.createElement(q.a,{component:"th",scope:"row"},e.name),r.a.createElement(q.a,{align:"right"},e.value))}))))))})),L=function(){var e=I(),a=e.maxAbsSize,t=e.scene,n=e.screen,l=e.rowData,c=10*Math.ceil(a/2/100)+1;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.a.Scene,style:_(t.vars)},r.a.createElement("div",{className:d.a.container},r.a.createElement("div",{className:d.a.subcontainer},r.a.createElement("div",{className:d.a.ground}),r.a.createElement(D,{vars:n.vars}),r.a.createElement(B,{segments:c})))),r.a.createElement(U,{data:l}))},Q=t(51),Z=t.n(Q),G=t(73),$=t(130),ee=t(118),ae=t(119),te=t(120),ne=r.a.memo((function(e){var a=e.label,t=e.onChange,l=e.data,c=l.value,o=Object(i.a)(l.range,2),u=o[0],s=o[1],m=l.step,v=void 0===m?1:m,p=l.units,d=void 0===p?null:p,h=Object(n.useCallback)((function(e,a){t(N(a,u,s))}),[s,u,t]),f=Object(n.useCallback)((function(e){var a=e.target.value;t(N(a,u,s))}),[s,u,t]),E="input-".concat(btoa(a).replace(/=/g,""));return r.a.createElement("div",null,r.a.createElement(G.a,{id:E,gutterBottom:!0},a),r.a.createElement(ee.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(ee.a,{item:!0,xs:!0},r.a.createElement($.a,{step:v,min:u,max:s,value:c,onChange:h,"aria-labelledby":E})),r.a.createElement(ee.a,{item:!0},r.a.createElement(ae.a,{className:Z.a.input,value:c,margin:"dense",onChange:f,inputProps:{step:v,min:u,max:s,type:"number","aria-labelledby":E},endAdornment:d?r.a.createElement(te.a,{position:"end"},d):null}))))})),re=t(124),le=t(125),ce=t(121),ie=t(74),oe=t(13),ue=t(122),se=t(123),me=t(127),ve=t(131),pe={min:768,max:7680,step:8,type:"number"},de=r.a.memo((function(e){var a=e.presets,t=e.x,l=e.y,c=V(),o=Object(n.useCallback)((function(e){var a=e.target.value;c.setScreenResX(a)}),[c]),u=Object(n.useCallback)((function(e){var a=e.target.value;c.setScreenResY(a)}),[c]),s=Object(n.useCallback)((function(e,a){var t=a.key.split("x").map(Number),n=Object(i.a)(t,2),r=n[0],l=n[1];c.setScreenResX(r),c.setScreenResY(l)}),[c]),m=Object(n.useMemo)((function(){return Object(oe.a)(a).map((function(e){var a,t,n=Object(i.a)(e,2),l=n[0],c=n[1];return r.a.createElement(ve.a,{key:l,value:l},(a=l,t=c.label,"".concat(a).concat(t?" (".concat(t,")"):"")))}))}),[a]),v="".concat(t,"x").concat(l);return r.a.createElement(ce.a,{component:"fieldset"},r.a.createElement(ie.a,{component:"legend"},"Resolution"),r.a.createElement("div",null,r.a.createElement(ce.a,null,r.a.createElement(ae.a,{value:t,inputProps:pe,endAdornment:r.a.createElement(te.a,{position:"end"},"px"),onChange:o}),r.a.createElement(ue.a,null,"Width")),r.a.createElement(ce.a,null,r.a.createElement(ae.a,{value:l,inputProps:pe,endAdornment:r.a.createElement(te.a,{position:"end"},"px"),onChange:u}),r.a.createElement(ue.a,null,"Height"))),r.a.createElement(ce.a,null,r.a.createElement(se.a,{htmlFor:"age-simple"},"Preset"),r.a.createElement(me.a,{value:a.has(v)?v:null,onChange:s},m)))})),he=function(){var e=I(),a=V();return r.a.createElement(ee.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch"},r.a.createElement(ne,{label:"Scene depth",data:e.depth,onChange:a.setDepth}),r.a.createElement(ne,{label:"Viewpoint height",data:e.viewpoint,onChange:a.setViewpoint}),r.a.createElement(ce.a,{component:"fieldset"},r.a.createElement(ie.a,{component:"legend"},"Screen"),r.a.createElement(ce.a,null,r.a.createElement(ne,{label:"Elevation",onChange:a.setElevation,data:e.elevation})),r.a.createElement(ce.a,null,r.a.createElement(ne,{label:"Diagonal",data:e.diagonal,onChange:a.setDiagonal})),r.a.createElement(ce.a,null,r.a.createElement(ne,{label:"FOV",data:e.fov,onChange:a.setFOV}))),r.a.createElement(de,Object.assign({presets:e.screen.presets},e.screen.resolution)),r.a.createElement(ee.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(ee.a,{item:!0},r.a.createElement(re.a,{variant:"outlined",startIcon:r.a.createElement(le.a,null,"refresh"),onClick:a.reset},"Reset"))))},fe=Object(s.a)({palette:{type:"dark"}}),Ee=function(e){w(e),function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;a.hash=y(e)}(e)},ge=function(e){return{reset:function(){return window.history.pushState("",document.title,window.location.pathname+window.location.search),be},setDepth:function(a){e.depth.value=a,Ee(e)},setDiagonal:function(a){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.diagonal.value=a,t?Ee(e):w(e)},setElevation:function(a){e.elevation.value=a,Ee(e)},setViewpoint:function(a){e.viewpoint.value=a,Ee(e)},setScreenResX:function(a){e.screen.resolution.x=a,Ee(e)},setScreenResY:function(a){e.screen.resolution.y=a,Ee(e)},setFOV:function(a){e.fov.value=a,Ee(e)}}},be=Object(E.a)({absSize:NaN,maxAbsSize:NaN,ratio:NaN,fov:{value:140,range:[45,160],step:1},relative:{elevation:NaN,diagonal:NaN,depth:NaN,viewpoint:NaN},elevation:{value:75,range:[0,200],step:5,units:"cm"},diagonal:{value:65,range:[10,88],units:"in"},depth:{value:200,range:[10,1e3],step:10,units:"cm"},viewpoint:{value:150,range:[0,200],step:10,units:"cm"},scene:{absSize:NaN,vars:{zoom:NaN,aspectRatio:4/3,tileSize:NaN}},screen:{resolution:{x:3840,y:2160},presets:[[1280,720,"HD"],[1920,1080,"FHD"],[1920,1200],[2560,1440,"QHD"],[3840,1440],[3840,2160,"4K UHD"],[7680,4320,"8K UHD"]].reduce((function(e,a){var t=Object(i.a)(a,3),n=t[0],r=t[1],l=t[2],c=void 0===l?null:l;return e.set("".concat(n,"x").concat(r),{x:n,y:r,label:c})}),new Map),size:{x:null,y:null},vars:{width:null,height:null}},rowData:{degree:{name:"Viewing angle",value:null},ppi:{name:"PPI",value:null},ppd:{name:"PPD",value:null}}},(function(e){ge(e).setDiagonal(e.diagonal.value,!1)})),we=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.hash,n=t.slice(1).split(",").filter(Boolean).map((function(e){return e.split(":").map((function(e){return e.trim()}))}));return Object(E.a)(e,(function(e){n.forEach((function(a){var t=Object(i.a)(a,2),n=t[0],r=t[1];r&&b.includes(n)&&(e[n].value=Number(r))})),a(e)}))}(be,w),Ne=function(){return r.a.createElement(o.a,{theme:fe},r.a.createElement(u.a,null),r.a.createElement(A,{initialState:we,methods:ge},r.a.createElement("div",{className:v.a.App},r.a.createElement("main",{className:v.a.main},r.a.createElement(L,null)),r.a.createElement("div",null,r.a.createElement(he,null)))))};c.a.render(r.a.createElement(Ne,null),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.ba11bfe6.chunk.js.map