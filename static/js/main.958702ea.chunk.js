(window.webpackJsonpppdcalc=window.webpackJsonpppdcalc||[]).push([[0],{30:function(e,a,t){e.exports={Scene:"Scene_Scene__2Jo2n",container:"Scene_container__igEhO",subcontainer:"Scene_subcontainer__3mBWq",ground:"Scene_ground__2OY49"}},31:function(e,a,t){e.exports={Ruler:"Ruler_Ruler__2j-pf",segment:"Ruler_segment__Tuf2S",person:"Ruler_person__1s0XW",banana:"Ruler_banana__1o2eT"}},39:function(e,a,t){e.exports={Viewpoint:"Viewpoint_Viewpoint__qfcA5",inverse:"Viewpoint_inverse__3fMsu",icon:"Viewpoint_icon__1WY5a"}},43:function(e,a,t){e.exports={App:"App_App__15LM-",main:"App_main__uN9ca"}},49:function(e,a,t){e.exports={Screen:"Screen_Screen__1_9xZ"}},51:function(e,a,t){e.exports={DataTable:"DataTable_DataTable__3VVmB"}},53:function(e,a,t){},64:function(e,a,t){e.exports=t(75)},69:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),i=(t(69),t(12)),o=t(128),u=t(131),s=t(54),m=t(43),v=t.n(m),p=t(30),d=t.n(p),f=t(41),h=t.n(f),E=t(49),g=t.n(E),b=t(32),w=function(e,a){return e*Math.sin(P(a/2))/Math.sin(P(a/2)+P(90))},O=["depth","diagonal","elevation","viewpoint","fov"],_=function(e){var a=e.fov.value,t=e.depth,n=Object(i.a)(t.range,2)[1],r=t.value,c=e.scene.vars,l=e.diagonal.value,o=w(n,a);e.maxAbsSize=o;var u=w(r,a);e.absSize=u;var s=y(l),m=e.screen.resolution,v=m.x,p=m.y,d=Math.round(s*v/Math.sqrt(Math.pow(v,2)+Math.pow(p,2)));N(d);e.screen.size.x=d;var f=Math.round(d/(v/p));N(f);e.screen.size.y=f;var h=100/o;e.ratio=h;var E=function(e){return D(e*h)};e.screen.vars.width=E(e.screen.size.x),e.screen.vars.height=E(e.screen.size.y);var g=e.elevation.value;e.screen.vars.elevation=D(g*h);var b=c.aspectRatio,O=o/u;c.ratio=h,c.zoom=O,c.containerWidth=D(100*O),c.containerHeight=D(100*O*b),c.tileSize=D(100/(o/100));var _=e.viewpoint.value;c.viewpointOffset=D(_*h);var j,x,S=e.rowData,C=g+f/2-_,P=(j=C,x=r,Math.atan(j/x)*(180/Math.PI));S.degree.value=M(Math.round(P));var z=Math.round(Math.hypot(v,p)/l),R=Math.hypot(C,r);S.ppi.value=z;var V=v/2/(180/Math.PI*Math.atan(l/Math.sqrt(Math.pow(v,2)+Math.pow(p,2))*(v/2)/N(R)));S.ppd.value=Math.round(10*V)/10;var k=g+f/2-_;e.viewpoint.height=k*h,e.viewpoint.vars.offset=D(k<0?(g+f/2)*h:_*h)},j=function(e,a,t){return Math.min(Math.max(e,a),t)},y=function(e){return 2.54*e},N=function(e){return e/2.54},x=function(e,a){return Object.fromEntries(Object.entries(e).map(a))},S=function(e){return x(e,(function(e){var a=Object(i.a)(e,2),t=a[0],n=a[1];return["--".concat(t),n]}))},M=function(e){return"".concat(e,"\xb0")},D=function(e){return"".concat(e,"%")},C=function(e){return O.map((function(a){return[a,e[a].value]})).map((function(e){return e.join(":")})).join(",")},P=function(e){return e*(Math.PI/180)},z=r.a.memo((function(e){var a=e.vars;e.inverse;return r.a.createElement("div",{className:g.a.Screen,style:S(a)})})),R=t(50),V=t.n(R),k=Object(n.createContext)(),A=Object(n.createContext)(),I=function(e){var a=e.methods,t=e.initialState,n=e.children,c=V()(a,t),l=Object(i.a)(c,2),o=l[0],u=l[1];return r.a.createElement(k.Provider,{value:o},r.a.createElement(A.Provider,{value:u},n))},H=function(){return Object(n.useContext)(k)},B=function(){return Object(n.useContext)(A)},F=t(31),T=t.n(F),W=function(){return r.a.createElement("svg",{viewBox:"0 0 119.28428 261.78967"},r.a.createElement("g",{transform:"translate(-41.83 -16.634)"},r.a.createElement("circle",{cx:"101.3",cy:"43.896",r:"27.261"}),r.a.createElement("path",{transform:"scale(.26458)",d:"m304.69 1051.2c-17.56-3.4715-29.996-17.666-33.235-37.936-0.53947-3.3762 0.88852-42.124 6.0677-164.64 3.7252-88.125 7.1027-167.14 7.5054-175.58 2.4633-51.665 2.7514-90.407 1.4361-193.11-0.71253-55.635-0.81588-58.598-2.1344-61.182-2.7302-5.3516-7.8714-7.2135-12.833-4.6476-3.1163 1.6115-4.2748 3.7452-11.058 20.368-6.9545 17.041-11.089 29.071-17.455 50.78-8.0752 27.541-10.563 40.029-16.869 84.664-2.9444 20.841-4.5756 26.781-9.2858 33.814-5.7664 8.6102-12.885 12.403-23.209 12.366-19.533-0.0693-32.471-10.152-35.08-27.339-1.6347-10.768 1.2881-32.462 8.0248-59.561 2.355-9.4735 6.0585-25.413 8.2299-35.421 6.3836-29.423 8.852-36.777 33.33-99.303 11.803-30.148 13.571-34.285 19.776-46.248 15.842-30.547 37.017-53.271 60.006-64.397l6.7857-3.284 87.616-0.18959 87.616-0.1896 4.6672 1.6941c15.151 5.4994 33.809 20.777 47.283 38.716 13.884 18.485 21.103 32.789 36.753 72.826 25.547 65.356 27.525 71.345 34.916 105.71 1.9429 9.0357 5.3207 23.5 7.5063 32.143 7.4749 29.56 9.743 52.027 6.3463 62.867-2.7061 8.636-7.0795 13.844-14.919 17.764-8.677 4.3398-21.471 5.5086-28.964 2.6462-8.3606-3.1936-13.911-9.3869-17.661-19.706-2.0959-5.7678-2.4684-7.7368-5.1353-27.143-2.2327-16.247-6.2383-41.113-8.1693-50.714-2.0534-10.21-9.4465-36.295-15.461-54.551-4.3246-13.127-15.27-40.697-17.759-44.735-2.9312-4.7537-9.5096-6.1581-13.423-2.8654-4.6646 3.925-4.435 1.0794-5.1442 63.766-0.35443 31.326-0.80907 68.368-1.0103 82.314-0.35662 24.714 0.29392 61.04 1.7269 96.429 0.38975 9.625 3.9053 92.714 7.8123 184.64 6.454 151.86 7.0149 167.63 6.1333 172.5-4.4063 24.325-20.469 37.857-44.938 37.857-18.36 0-32.075-8.0499-39.326-23.082-3.4135-7.0762-5.0615-12.652-5.7397-19.418-0.23624-2.3571-3.6285-82.41-7.5384-177.9-7.5948-185.48-7.2058-179.05-11.064-182.9-2.9303-2.9303-5.8857-1.9373-8.298 2.788-1.151 2.2546-1.7015 5.1669-2.1895 11.583-0.35857 4.7143-3.665 83.304-7.3475 174.64-3.6826 91.339-7.0318 169-7.4428 172.59-0.85827 7.4881-3.7224 16.196-7.2563 22.062-3.368 5.5904-10.983 12.611-16.501 15.212-9.0472 4.2648-21.78 5.5344-33.087 3.2991z"})))},Y=function(){return r.a.createElement("svg",{viewBox:"0 0 115.70131 98.49147"},r.a.createElement("g",{transform:"translate(57.603 -133.78)"},r.a.createElement("path",{d:"m-48.799 232.28c-0.58534 0-2.1366-0.11815-3.5547-0.23633s-2.6953-0.23633-2.6953-0.23633l-0.0117-2e-3 -0.0117-4e-3s-0.45094-0.1242-0.86524-0.48828c-0.41429-0.36408-0.79486-0.98801-0.64648-1.9277 0.13955-0.8838 0.54207-4.3634 0.9082-7.6113 0.36488-3.2369 0.69306-6.2294 0.69531-6.25-0.0223-0.0579-3.87-10.07-2.2051-23.857 1.6698-13.827 8.9004-31.423 31.086-46.469 20.753-14.075 40.485-13.227 55.594-7.5879 7.5543 2.8194 13.954 6.8344 18.758 10.779 4.8037 3.9449 8.0108 7.8098 9.1856 10.375 0.85945 1.8768 0.86759 3.6951 0.0977 5.0156-0.76993 1.3205-2.3163 2.1188-4.4785 1.9746-1.0775-0.0718-3.5772-0.41373-7.1582-0.67774-3.581-0.264-8.2358-0.44888-13.592-0.20703-10.712 0.4837-24.231 2.6787-37.58 9.377-11.457 5.749-21.584 16.72-28.84 26.256-7.2412 9.5162-11.611 17.575-11.629 17.607-3e-3 0.0268-0.32911 2.7748-0.6582 5.6426-0.16534 1.4409-0.33111 2.9056-0.45508 4.0566-0.062 0.57553-0.11235 1.0729-0.14843 1.4492-0.0361 0.37632-0.0566 0.63964-0.0566 0.71484 0 0.40554-0.12214 0.96363-0.39649 1.4375-0.27434 0.47387-0.71971 0.86914-1.3418 0.86914z"})))},q=r.a.memo((function(e){var a=e.segments,t=Array.from({length:a},(function(e,t){return r.a.createElement("div",{className:T.a.segment,key:t,"data-n":"".concat(Math.ceil((a-t-1)/10),"m")})}));return r.a.createElement("div",{className:T.a.Ruler,style:S({segments:a})},t,r.a.createElement("div",{className:T.a.person},r.a.createElement(W,null),r.a.createElement("div",{className:T.a.banana},r.a.createElement(Y,null))))})),X=t(116),J=t(117),K=t(119),U=t(118),L=t(113),Q=t(51),Z=t.n(Q),G=r.a.memo((function(e){var a=e.data;return r.a.createElement("div",{className:Z.a.DataTable},r.a.createElement(L.a,null,r.a.createElement(X.a,null,r.a.createElement(J.a,null,Object.values(a).map((function(e){return r.a.createElement(U.a,{key:e.name},r.a.createElement(K.a,{component:"th",scope:"row"},e.name),r.a.createElement(K.a,{align:"right"},e.value))}))))))})),$=t(15),ee=t(39),ae=t.n(ee),te=t(120);function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function re(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ne(t,!0).forEach((function(a){Object($.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ce=r.a.memo((function(e){var a=e.vars,t=e.height;return r.a.createElement("div",{className:h()(ae.a.Viewpoint,Object($.a)({},ae.a.inverse,t<0)),style:S(re({},a,{height:"".concat(Math.abs(t),"%")}))},r.a.createElement("div",{className:ae.a.icon},r.a.createElement(te.a,null,"visibility")))})),le=function(){var e=H(),a=e.maxAbsSize,t=e.scene,n=e.screen,c=e.rowData,l=e.viewpoint,i=10*Math.ceil(a/2/100)+1;return console.log(n.viewpointMeasureInverse),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.a.Scene,style:S(t.vars)},r.a.createElement("div",{className:d.a.container},r.a.createElement("div",{className:d.a.subcontainer},r.a.createElement("div",{className:d.a.ground}),r.a.createElement(z,{vars:n.vars}),r.a.createElement(q,{segments:i}),r.a.createElement(ce,{vars:l.vars,height:l.height})))),r.a.createElement(G,{data:c}))},ie=t(53),oe=t.n(ie),ue=t(76),se=t(132),me=t(121),ve=t(122),pe=t(123),de=r.a.memo((function(e){var a=e.label,t=e.onChange,c=e.data,l=c.value,o=Object(i.a)(c.range,2),u=o[0],s=o[1],m=c.step,v=void 0===m?1:m,p=c.units,d=void 0===p?null:p,f=Object(n.useCallback)((function(e,a){t(j(a,u,s))}),[s,u,t]),h=Object(n.useCallback)((function(e){var a=e.target.value;t(j(a,u,s))}),[s,u,t]),E="input-".concat(btoa(a).replace(/=/g,""));return r.a.createElement("div",null,r.a.createElement(ue.a,{id:E,gutterBottom:!0},a),r.a.createElement(me.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(me.a,{item:!0,xs:!0},r.a.createElement(se.a,{step:v,min:u,max:s,value:l,onChange:f,"aria-labelledby":E})),r.a.createElement(me.a,{item:!0},r.a.createElement(ve.a,{className:oe.a.input,value:l,margin:"dense",onChange:h,inputProps:{step:v,min:u,max:s,type:"number","aria-labelledby":E},endAdornment:d?r.a.createElement(pe.a,{position:"end"},d):null}))))})),fe=t(127),he=t(124),Ee=t(77),ge=t(13),be=t(125),we=t(126),Oe=t(129),_e=t(133),je={min:768,max:7680,step:8,type:"number"},ye=r.a.memo((function(e){var a=e.presets,t=e.x,c=e.y,l=B(),o=Object(n.useCallback)((function(e){var a=e.target.value;l.setScreenResX(a)}),[l]),u=Object(n.useCallback)((function(e){var a=e.target.value;l.setScreenResY(a)}),[l]),s=Object(n.useCallback)((function(e,a){var t=a.key.split("x").map(Number),n=Object(i.a)(t,2),r=n[0],c=n[1];l.setScreenResX(r),l.setScreenResY(c)}),[l]),m=Object(n.useMemo)((function(){return Object(ge.a)(a).map((function(e){var a,t,n=Object(i.a)(e,2),c=n[0],l=n[1];return r.a.createElement(_e.a,{key:c,value:c},(a=c,t=l.label,"".concat(a).concat(t?" (".concat(t,")"):"")))}))}),[a]),v="".concat(t,"x").concat(c);return r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(Ee.a,{component:"legend"},"Resolution"),r.a.createElement("div",null,r.a.createElement(he.a,null,r.a.createElement(ve.a,{value:t,inputProps:je,endAdornment:r.a.createElement(pe.a,{position:"end"},"px"),onChange:o}),r.a.createElement(be.a,null,"Width")),r.a.createElement(he.a,null,r.a.createElement(ve.a,{value:c,inputProps:je,endAdornment:r.a.createElement(pe.a,{position:"end"},"px"),onChange:u}),r.a.createElement(be.a,null,"Height"))),r.a.createElement(he.a,null,r.a.createElement(we.a,{htmlFor:"age-simple"},"Preset"),r.a.createElement(Oe.a,{value:a.has(v)?v:null,onChange:s},m)))})),Ne=function(){var e=H(),a=B();return r.a.createElement(me.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch"},r.a.createElement(de,{label:"Scene depth",data:e.depth,onChange:a.setDepth}),r.a.createElement(de,{label:"Viewpoint height",data:e.viewpoint,onChange:a.setViewpoint}),r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(Ee.a,{component:"legend"},"Screen"),r.a.createElement(he.a,null,r.a.createElement(de,{label:"Elevation",onChange:a.setElevation,data:e.elevation})),r.a.createElement(he.a,null,r.a.createElement(de,{label:"Diagonal",data:e.diagonal,onChange:a.setDiagonal})),r.a.createElement(he.a,null,r.a.createElement(de,{label:"FOV",data:e.fov,onChange:a.setFOV}))),r.a.createElement(ye,Object.assign({presets:e.screen.presets},e.screen.resolution)),r.a.createElement(me.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(me.a,{item:!0},r.a.createElement(fe.a,{variant:"outlined",startIcon:r.a.createElement(te.a,null,"refresh"),onClick:a.reset},"Reset"))))},xe=Object(s.a)({palette:{type:"dark"}}),Se=function(e){_(e),function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;a.hash=C(e)}(e)},Me=function(e){return{reset:function(){return window.history.pushState("",document.title,window.location.pathname+window.location.search),De},setDepth:function(a){e.depth.value=a,Se(e)},setDiagonal:function(a){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.diagonal.value=a,t?Se(e):_(e)},setElevation:function(a){e.elevation.value=a,Se(e)},setViewpoint:function(a){e.viewpoint.value=a,Se(e)},setScreenResX:function(a){e.screen.resolution.x=a,Se(e)},setScreenResY:function(a){e.screen.resolution.y=a,Se(e)},setFOV:function(a){e.fov.value=a,Se(e)}}},De=Object(b.a)({absSize:NaN,maxAbsSize:NaN,ratio:NaN,fov:{value:140,range:[45,160],step:1},relative:{elevation:NaN,diagonal:NaN,depth:NaN,viewpoint:NaN},elevation:{value:75,range:[0,200],step:5,units:"cm"},diagonal:{value:65,range:[5,100],units:"in"},depth:{value:200,range:[10,1e3],step:10,units:"cm"},viewpoint:{value:150,range:[0,200],step:10,units:"cm",vars:{top:null}},scene:{absSize:NaN,vars:{zoom:NaN,aspectRatio:4/3,tileSize:NaN}},screen:{resolution:{x:3840,y:2160},presets:[[1280,720,"HD"],[1920,1080,"FHD"],[1920,1200],[2560,1440,"QHD"],[3840,1440],[3840,2160,"4K UHD"],[7680,4320,"8K UHD"]].reduce((function(e,a){var t=Object(i.a)(a,3),n=t[0],r=t[1],c=t[2],l=void 0===c?null:c;return e.set("".concat(n,"x").concat(r),{x:n,y:r,label:l})}),new Map),size:{x:null,y:null},vars:{width:null,height:null},viewpointMeasureHeight:null,viewpointMeasureInverse:null},rowData:{degree:{name:"Viewing angle",value:null},ppi:{name:"PPI",value:null},ppd:{name:"PPD",value:null}}},(function(e){Me(e).setDiagonal(e.diagonal.value,!1)})),Ce=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.hash,n=t.slice(1).split(",").filter(Boolean).map((function(e){return e.split(":").map((function(e){return e.trim()}))}));return Object(b.a)(e,(function(e){n.forEach((function(a){var t=Object(i.a)(a,2),n=t[0],r=t[1];r&&O.includes(n)&&(e[n].value=Number(r))})),a(e)}))}(De,_),Pe=function(){return r.a.createElement(o.a,{theme:xe},r.a.createElement(u.a,null),r.a.createElement(I,{initialState:Ce,methods:Me},r.a.createElement("div",{className:v.a.App},r.a.createElement("main",{className:v.a.main},r.a.createElement(le,null)),r.a.createElement("div",null,r.a.createElement(Ne,null)))))};l.a.render(r.a.createElement(Pe,null),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.958702ea.chunk.js.map